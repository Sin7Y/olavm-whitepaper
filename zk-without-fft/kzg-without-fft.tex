\subsection{KZG Without FFT}

We can represent a polynomial using Lagrange basis in KZG commitment, thus avoiding the use of FFT. The specific changes can be found in Table \ref{table:kzg-without-fft}.

\begin{table}[!htp]
    \centering
    \begin{tabularx}{\textwidth}{|X|X|X|}
        \hline
        \multicolumn{1}{|c|}{\emph{Coefficient Form}} & \multicolumn{1}{c|}{\emph{Evalutaion Form}} \\ \hline
        \multicolumn{2}{|c|}{Notations} \\ \hline
        $\mathbb{F}$: finite field \newline
        $\lambda$: security parameters \newline
        $\mathbb{G}_1,\mathbb{G}_2,\mathbb{G}_T$: groups of prime order $p$ over ECC \newline
        $e \colon \mathbb{G}_1 \times \mathbb{G}_2 \to \mathbb{G}_T$: symmetric bilinear pairing \newline
        $g,h$: generators of $\mathbb{G}_1,\mathbb{G}_2$ \newline
        $t$: max degree \newline
        $\omega$: primitive $n$-th root of unity in $\mathbb{F}$ \newline
        &
        $\mathbb{F}$: finite field \newline
        $\lambda$: security parameters \newline
        $\mathbb{G}_1,\mathbb{G}_2,\mathbb{G}_T$: groups of prime order $p$ over ECC \newline
        $e \colon \mathbb{G}_1 \times \mathbb{G}_2 \to \mathbb{G}_T$: symmetric bilinear pairing \newline
        $g,h$: generators of $\mathbb{G}_1,\mathbb{G}_2$ \newline
        $t$: max degree \newline
        $\omega$: primitive $n$-th root of unity in $\mathbb{F}$ \newline
        $L_i$: Lagrange basis, such that $L_j(\omega^i)=\begin{cases}
            1 & i=j \\
            0 & i \ne j \\
        \end{cases}$ \\ \hline
        \multicolumn{2}{|c|}{Input} \\ \hline
        $\left\{ (\omega^0, \phi(\omega^0)), (\omega^1, \phi(\omega^1)), \ldots,(\omega^{n-1}, \phi(\omega^{n-1})) \right\}$
        & $\left\{ (\omega^0, \phi(\omega^0)), (\omega^1, \phi(\omega^1)), \ldots,(\omega^{n-1}, \phi(\omega^{n-1})) \right\}$ \\ \hline
        \multicolumn{2}{|c|}{Setup} \\ \hline
        SK: $\alpha \in \mathbb{F}_p$, generated by trusted authority \newline
        PK: $\left(g,\alpha g, \ldots, \alpha^t g\right)\in \mathbb{G}_1^{t+1},\ \left(h, \alpha h\right) \in \mathbb{G}_2^2$
        &
        SK: $\alpha \in \mathbb{F}_p$, generated by trusted authority \newline
        PK: $\left(g,\alpha g, \ldots, \alpha^t g\right)\in \mathbb{G}_1^{t+1},\ \left(h, \alpha h\right) \in \mathbb{G}_2^2$ \\ \hline
        \multicolumn{2}{|c|}{Commitment(PK, $\phi(x)$)} \\
        \hline
        Polynomial: $\displaystyle \phi(x)=\sum_{j=0}^{\deg\phi}\phi_jx^j$ (IFFT) \newline
        Commitment: $\displaystyle C=\sum_{j=0}^{\deg\phi}\phi_j(\alpha^jg)$
        &
        Polynomial: $\displaystyle \phi(x)=\sum_{j=0}^{n-1}\phi(\omega^j)L_j(x)$ \newline
        Commitment: $\displaystyle C=\sum_{j=0}^{n-1}\phi(\omega^j)L_j(\alpha)g$ \\ \hline
        \multicolumn{2}{|c|}{
            CreateWitness(PK, $\phi(z)$, $z$) \quad
            (Query point $z$ out of domain, used in IOPP)
        } \\ \hline
        Compute quotient polynomial: $\displaystyle \psi(x)=\frac{\phi(x)-\phi(z)}{x-z}$ \newline
        Commitment: $\displaystyle w_z=\sum_{j=0}^{\deg\psi}\psi_j(\alpha^jg)$
        &
        Evaluate out of domain: $\displaystyle \phi(z)=\frac{z^n-1}{n}\sum_{i=0}^{n-1}\frac{\psi(\omega^i)\omega^i}{z-\omega^i}$ \newline
        Compute quotient polynomial: $\displaystyle \psi(\omega^j)=\frac{\phi(\omega^j)-\phi(z)}{\omega^j-z}$ \newline
        Commitment: $\displaystyle w_z=\sum_{j=0}^{n-1}\psi(\omega^j)L_j(\alpha)g$ \\ \hline
        \multicolumn{2}{|c|}{
            CreateWitness(PK, $\phi(z)$, $z$) \quad
            (Query point $z$ in of domain, used in Verkle Tree)
        } \\ \hline
        Evaluate in the domain: $\displaystyle \phi(x)=\sum_{j=0}^{\deg\phi}\phi_jz^j$ \newline
        Compute quotient polynomial: $\displaystyle \psi(x)=\frac{\phi(x)-\phi(z)}{x-z}$ \newline
        Commitment: $\displaystyle w_z=\sum_{j=0}^{\deg\psi}\psi_j(\alpha^jg)$
        &
        Compute quotient polynomial \newline
        $\displaystyle \psi(\omega^j) = \begin{cases}
            \frac{\phi(\omega^j)-\phi(z)}{\omega^j-z} & \omega^j \ne z \\
            \sum_{\omega^i \ne z}\frac{(\phi(\omega^i)-\phi(z))\omega^i}{z(z-\omega^i)} & \omega^j=z
        \end{cases}$ \newline
        Commitment: $\displaystyle w_z=\sum_{j=0}^{n-1}\psi(\omega^j)L_j(\alpha)g$ \\ \hline
        \multicolumn{2}{|c|}{VerifyEval(PK, $C$, $w_i$, $z$, $\phi(z)$)} \\ \hline
        Verify: $e(w_z, (\alpha-z)h) = e(C-\phi(z)g, h)$
        & Verify: $e(w_z, (\alpha-z)h) = e(C-\phi(z)g, h)$ \\ \hline
    \end{tabularx}
    \caption{KZG Commitment without FFT}
    \label{table:kzg-without-fft}
\end{table}
